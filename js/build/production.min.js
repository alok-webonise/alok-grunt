/*! Project-name - v - 2014-03-14 */function searchComplete(){if(0!=cityNdx||0!=stateNdx||null!=newsSearch.results&&(null!=newsSearch.cursor||0!=newsSearch.results.length)){for(var a=0;a<newsSearch.results.length;a++)if(!articlesFound.hasOwnProperty(newsSearch.results[a].unescapedUrl)){articlesFound[newsSearch.results[a].unescapedUrl]="";{var b=document.createElement("td"),c=document.createElement("td"),d=document.createElement("td"),e=document.createElement("tr"),f=document.createElement("td"),g=(document.createElement("p"),document.createElement("a"));document.createElement("p")}g.href=newsSearch.results[a].unescapedUrl,g.innerHTML=newsSearch.results[a].unescapedUrl,g.target="_blank",f.appendChild(g),b.innerHTML=cleanUpStrings(newsSearch.results[a].title),c.innerHTML=cleanUpStrings(newsSearch.results[a].content),d.innerHTML=stateNdx>=0&&STATE_MAX>stateNdx?states[stateNdx]+" stateNdx: "+stateNdx:stateNdx+1>=STATE_MAX&&cityNdx>=0&&CITIES_MAX>cityNdx?cities[cityNdx]+" cityNdx: "+cityNdx:"World wide",e.appendChild(f),e.appendChild(b),e.appendChild(c),$("#results-table").append(e)}null!=newsSearch.cursor&&newsSearch.cursor.currentPageIndex+1<newsSearch.cursor.pages.length?newsSearch.gotoPage(newsSearch.cursor.currentPageIndex+1):STATE_MAX>stateNdx+1?(updateProgress(),newsSearch.setQueryAddition(""),newsSearch.setQueryAddition('"'+states[++stateNdx]+'"'),newsSearch.execute(query)):CITIES_MAX>cityNdx+1?(updateProgress(),newsSearch.setQueryAddition(""),newsSearch.setQueryAddition(cities[++cityNdx]),newsSearch.execute(query)):updateProgress()}}function cleanUpStrings(a){return a=a.replace(/[\u0080-\uF8FF]/g,""),a=a.replace(/&quot;/g,"")}function updateProgress(){var a=Math.round((stateNdx+cityNdx+3)/11*100);setProgress(a)}function resetProgress(){$("#progress-container").addClass("active"),$("#progress-container").addClass("progress-striped"),$("#progress-container").css("cursor","wait"),$("#progress-bar").removeClass("btn"),$("#progress-bar").removeClass("btn-primary"),$("#progress-bar").unbind("click"),$("#progress-bar").text("Loading articles..."),$("#download-link").attr("href",null),$("#download-link").attr("download",null),setProgress(5),complete=!1}function setProgress(a){$("#progress-bar").attr("aria-valuetransitiongoal",a),$(".progress .progress-bar").progressbar()}function progressComplete(){complete=!0,totalArticles=Object.keys(articlesFound).length,$("#progress-container").removeClass("active"),$("#progress-container").removeClass("progress-striped"),$("#progress-bar").click(null),totalArticles>0?($("#download-link").attr("href",getCsvUrl()),$("#download-link").attr("download",getCsvName()),$("#progress-bar").html("Found "+totalArticles+' "'+query+'" articles. Click to download.'),$("#progress-bar").addClass("btn"),$("#progress-bar").addClass("btn-primary"),$("#progress-container").css("cursor","pointer")):($("#progress-bar").html("No articles found"),$("#progress-container").css("cursor","auto"))}function getCsvUrl(){var a=$("#results-table").table2CSV({delivery:"value"});return"data:text/csv;charset=ASCII,"+encodeURIComponent(a)}function getCsvName(){return query.trim().split(" ").join("_")+"_articles.csv"}function fireAway(){$("#results-table").find("tr:gt(0)").remove(),newsSearch=new google.search.NewsSearch,newsSearch.setSearchCompleteCallback(this,searchComplete,null),newsSearch.setResultSetSize(8),stateNdx=-1,cityNdx=-1,query=$("#news-search").val(),articlesFound={},resetProgress(),newsSearch.execute(query)}google.load("search","1");var newsSearch;const STATE_MAX=0,CITIES_MAX=10,cities=["New York, New York","Los Angeles, California","Chicago, Illinois","Houston, Texas","Philadelphia, Pennsylvania","Phoenix, Arizona","San Antonio, Texas","San Diego, California","Dallas, Texas","San Jose, California","Jacksonville[g], Florida","Indianapolis[f], Indiana","Austin, Texas","San Francisco, California","Columbus, Ohio","Fort Worth, Texas","Charlotte, North Carolina","Detroit, Michigan","El Paso, Texas","Memphis, Tennessee","Boston, Massachusetts","Seattle, Washington","Denver, Colorado","Baltimore, Maryland","Washington, District of Columbia","Nashville, Tennessee","Louisville, Kentucky","Milwaukee, Wisconsin","Portland, Oregon","Oklahoma City, Oklahoma","Las Vegas, Nevada","Albuquerque, New Mexico","Tucson, Arizona","Fresno, California","Sacramento, California","Long Beach, California","Kansas City, Missouri","Mesa, Arizona","Virginia Beach, Virginia","Atlanta, Georgia","Colorado Springs, Colorado","Raleigh, North Carolina","Omaha, Nebraska","Miami, Florida","Tulsa, Oklahoma","Oakland, California","Cleveland, Ohio","Minneapolis, Minnesota","Wichita, Kansas","Arlington, Texas","New Orleans, Louisiana","Bakersfield, California","Tampa, Florida","Anaheim, California","Honolulu, Hawaii","Aurora, Colorado","Santa Ana, California","St. Louis, Missouri","Riverside, California","Corpus Christi, Texas","Pittsburgh, Pennsylvania","Lexington, Kentucky","Stockton, California","Cincinnati, Ohio","Anchorage, Alaska","Saint Paul, Minnesota","Toledo, Ohio","Newark, New Jersey","Greensboro, North Carolina","Plano, Texas","Lincoln, Nebraska","Buffalo, New York","Henderson, Nevada","Fort Wayne, Indiana","Jersey City, New Jersey","Chula Vista, California","St. Petersburg, Florida","Orlando, Florida","Norfolk, Virginia","Laredo, Texas","Chandler, Arizona","Madison, Wisconsin","Lubbock, Texas","Durham, North Carolina","Winston-Salem, North Carolina","Garland, Texas","Glendale, Arizona","Baton Rouge, Louisiana","Hialeah, Florida","Reno, Nevada","Chesapeake, Virginia","Scottsdale, Arizona","Irving, Texas","North Las Vegas, Nevada","Fremont, California","Irvine, California","San Bernardino, California","Birmingham, Alabama","Gilbert, Arizona","Rochester, New York"],states=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];var stateNdx=-1,cityNdx=-1,query,articlesFound,complete=!1;$(document).ready(function(){$("#search-button").click(function(){fireAway()}),$(".progress .progress-bar").progressbar({done:function(){var a=$("#progress-bar").attr("aria-valuetransitiongoal");null!=a&&a>=100&&!complete&&progressComplete()}}),$("#sharing").share({networks:["twitter","googleplus","facebook","linkedin"],urlToShare:"http://wp.me/p2pmCq-gA"})});